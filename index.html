<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PAEI Тест</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: #f4f7fb;
    color: #333;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .container {
    background: white;
    padding: 20px 30px;
    border-radius: 16px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    width: 90%;
    max-width: 700px;
  }
  h2, h3 {
    text-align: center;
  }
  .question {
    display: none;
  }
  .question.active {
    display: block;
  }
  .options {
    margin-top: 10px;
  }
  .trait {
    margin-bottom: 15px;
    background: #f9fafc;
    border-radius: 10px;
    padding: 10px;
  }
  .trait label {
    margin-right: 5px;
  }
  .progress {
    text-align: center;
    margin-bottom: 10px;
  }
  .btn {
    display: block;
    margin: 10px auto;
    padding: 8px 16px;
    background: #0078d7;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }
  .btn:disabled {
    background: #aaa;
    cursor: not-allowed;
  }
</style>
</head>
<body>

<div class="container">
  <h2>PAEI Тест</h2>
  <div id="progress" class="progress">Питання 1 з 12</div>
  <form id="paeiForm"></form>
</div>

<script>
const questions = [
  ["Залучений","Сумнівний","Яскравий","Чуйний"],
  ["Прямолінійний","Аналізуючий","Харизматичний","Чуттєвий"],
  ["Роблячий","Споглядаючий","Провокуючий","Співчувальний"],
  ["Що усвідомлює","Оцінюючий","Що йде на ризик","Доброзичливий"],
  ["Результативний","Логічний","Задає питання","Інтуїтивний"],
  ["Завзятий","Консервативний","Радикальний","Товариський"],
  ["Активний","Споглядаючий","Абстрактний","Взаємодіючий"],
  ["Прагматичний","Розмірковуючий","Дивиться в майбутнє","Теплий"],
  ["Переможець","Точний","Концептуальний","Що прагне консенсусу"],
  ["Раціональний","Стриманий","Генеруючий ідеї","Обізнаний"],
  ["Діловий","Акуратний","Яскравий","Приємний"],
  ["Реалістичний","Обережний","Мрійник","Що об’єднує"]
];
const roles = ["P","A","E","I"];
let current = 0;
let scores = { P:0, A:0, E:0, I:0 };

const form = document.getElementById("paeiForm");
const progress = document.getElementById("progress");

function renderQuestion(i) {
  const q = questions[i];
  form.innerHTML = `
    <div class="question active">
      <h3>${i+1}. Оберіть бали (до 10 в сумі):</h3>
      <div class="options">
        ${q.map((text, j) => `
          <div class="trait">
            <strong>${["А","Б","В","Г"][j]}. ${text}</strong><br>
            ${[1,2,3,4].map(val => `
              <label><input type="radio" name="q${i}_${j}" value="${val}">${val}</label>
            `).join("")}
          </div>
        `).join("")}
      </div>
      <div style="text-align:center;margin-top:10px;">
        <button type="button" id="nextBtn" class="btn" disabled>Далі</button>
      </div>
    </div>
  `;
  progress.textContent = `Питання ${i+1} з ${questions.length}`;

  const nextBtn = document.getElementById("nextBtn");
  const radios = form.querySelectorAll("input[type=radio]");

  form.addEventListener("change", () => {
    // group by each trait (4 per block)
    let sum = 0;
    for (let t=0; t<4; t++) {
      const checked = form.querySelector(`input[name="q${i}_${t}"]:checked`);
      if (checked) sum += parseInt(checked.value);
    }

    // disable unchecked radios if sum>=10
    radios.forEach(r => {
      const checked = form.querySelector(`input[name="${r.name}"]:checked`);
      if (!r.checked && sum >= 10) r.disabled = true;
      else r.disabled = false;
    });

    // enable next if exactly 10
    nextBtn.disabled = (sum !== 10);
  });

  nextBtn.onclick = () => {
    // tally scores
    for (let j=0;j<4;j++){
      const checked = form.querySelector(`input[name="q${i}_${j}"]:checked`);
      if (checked) scores[roles[j]] += parseInt(checked.value);
    }

    current++;
    if (current < questions.length) {
      renderQuestion(current);
    } else {
      showResults();
    }
  };
}

function showResults() {
  form.innerHTML = "";
  progress.textContent = "Результат";
  alert(`Ваш результат:
P (Producer): ${scores.P}
A (Administrator): ${scores.A}
E (Entrepreneur): ${scores.E}
I (Integrator): ${scores.I}`);
}

renderQuestion(0);
</script>

</body>
</html>
